Васёв А.В.

# Базы данных, их типы

## Задание 1. СУБД

### Кейс
### Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для каждой предметной области.
### Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему?
 
1.1 Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчетов и прогнозирования рисков. СУБД должна гарантировать целостность и четкую структуру данных.
#### Реляционная СУБД, т.к. она используется для хранения структурированных данных и работает с большим количеством маленьких транзакций. Подходит для хранения большого числа сущностей. Например, можно использовать Oracle, Microsoft SQL, PostgreSQL, MySQL, Access.
1.1* Хеширование стало занимать длительное время, какое API можно использовать для ускорения работы?
#### Вообще хеширование — это преобразование информации с помощью математических формул. API это библиотеки функций, разработанные для обеспечения связи прикладной программы с СУБД посредством выполнения SQL-запросов.

#### Не вижу какой-то связи, которая бы говорила о том, что с таким-то API скорость хеширования станет выше.

#### Если судить по тому, что падает скорость хеширования, то, вероятно, СУБД недостаточно каких-то системных ресурсов. Также можно, наверное, изменить метод хеширования, например, вместо SHA-2 использовать md5, что менее безопасно, но с другой стороны генерируемый хэш меньше.
1.2 Под каждый девелоперский проект создается отдельный лендинг и все данные по лидам стекаются в CRM к маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? СУБД должны быть гибкими и быстрыми.
1.2* Можно ли данную задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?
#### В случае с landing page можно обойтись без базы данных, используя HTML и CSS. Для CRM лучше использовать СУБД NoSQL, которая позволяет хранить большие объемы неструктурированной информации, не накладывает ограничения на типы хранимых данных. Например, можно использовать MongoDB, Cassandra, HBase. Я думаю вполне возможно использовать для решения обеих задач СУБД NoSQL.
1.3 Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу и так далее, сформированную согласно структуры компании. СУБД должна иметь простую и понятную структуру.

1.3* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это реализовать?
#### Для этой задачи, я думаю, возможно использование СУБД NoSQL, например MongoDB, используемую в задании 1.2 для CRM. Тип используемой СУБД тогда должен быть документо-ориентированная СУБД.
1.4 Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать со связями.
#### В данном случае я бы использовал графовую СУБД NoSQL, так как логистика — это сложная система с иерархическими данными, требующая высокой производительности и надежности.
1.4* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД логистов?
#### В данном случае логично было бы подключить отдел закупок к БД логистики, думаю, это вполне возможно.
1.5* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какой именно?
#### Я считаю, что возможно использовать одну СУБД для всех вышеописанных задач. Вопрос только оптимизации, скорости обработки и предоставления данных потребителю. В текущей ситуации для это задачи я бы использовал PostgreSQL, на данный момент самое популярное решение с хорошей документацией, стабильной работой ПО.


## Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы транзакция завершилась успешно. Ориентируйтесь на шесть действий.

2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

1. Проверка баланса счета, с которого производится оплата.
2. Блокировка средств на счете, с которого производится оплата.
3. Отправка транзакции в БД, в которая размещена информация о пополняемом счете.
4. Блокировка средств на пополняемом счете.
5. Изменение суммы на пополняемом счете.
6. Разблокировка средств на пополняемом счете.
7. Отправка подтверждения выполнения транзакции в БД, в которая размещена информация о счете, с которого выполняется пополнение.
8. Изменение суммы на счете, с которого выполняется пополнение.
9. Разблокировка средств на счете, с которого выполняется пополнение.
 
При пополнении счета через автоплатеж разницы кроме того, что должно наступить какое-то условия возникновения автоплатежа не вижу. Для случая если автоплатеж просто выполняется в какой то определенный день.
Если, например, автоплатеж возникает в случае, когда баланс ниже определенного значения, то к перечисленным выше пунктам в начало добавятся:
1. Проверка баланса счета, который необходимо пополнить, на соответствие определенным условиям.
2. Запрос информации условно о возможности пополнения счета на определенную сумму.
Далее пункты выше 1-9.
 
## Задание 3. SQL vs NoSQL

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL.

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

1. SQL-системы больше подходят для хранения структурированных данных
2. SQL-системы больше подходят для сложных запросов, более высокая производительность при выполнении сложных запросов
3. В SQL-системах проще установить контроль на доступ к данных для разных пользователей.
4. SQL-системы более надежны и отказоустойчивы.
5. SQL-системы более развиты, что означает наличие большого сообщества вокруг неё.

NewSQL-хранилища, то есть СУБД, предоставляют отказоустойчивость, масштабируемость и быстродействие NoSQL-систем, но при этом сохраняют привычные для классических систем ACID-гарантии. 

## Задание 4. Кластеры

### Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин.
### На основе какого критерия будете выбирать тип СУБД и какая модель распределённых вычислений здесь справится лучше всего и почему?

СУБД необходимо выбирать на основе следующих критериев: параллельная обработка, масштабируемость, обработка больших объемов агрегированных данных. Для работы с Big Data в данном случае возможно использование MongoDB или Hadoop.

Модель распределенных вычислений - доступ к удаленным данным (RDA - Remote Data Access). Запросы к информационным ресурсам направляются по сети удаленному компьютеру, который обрабатывает и выполняет их, возвращая клиенту блоки данных.
